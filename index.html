<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Hydrogen Sustainability Landing Page</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>

  <!-- Header -->
  <header class="header">
    <h1>Latest News</h1>
  </header>

  <!-- Image Carousel Section -->
  <section class="carousel">
    <button class="arrow left">&#8249;</button>
    <div class="image-container">
      <img id="carousel-image" src="" alt="Hydrogen Image">
    </div>
    <button class="arrow right">&#8250;</button>
  </section>

  <script>
    // ðŸ‘‰ Add all your image paths here (for example, 1 to 15)
    const allImages = [
      "1.png",
      "2.png",
      "3.png",
      "4.png",
      "5.png",
      "6.png",
      "7.png",
      "8.png",
      "9.png",
      "10.png",
      "11.png",
      "12.png",
    ];


    // Helpers
    const baseName = (p) => p.split("/").pop();
    const numericKey = (p) => {
      const m = baseName(p).match(/\d+/g);
      return m ? Number(m[m.length - 1]) : NaN; // last number in the filename
    };

    // Sort by numeric filename ascending (1,2,3,...,12)
    const sortedAsc = [...allImages].sort((a, b) => {
      const na = numericKey(a);
      const nb = numericKey(b);
      if (!Number.isNaN(na) && !Number.isNaN(nb)) return na - nb;
      // Fallback: natural sort if no numbers present
      return baseName(a).localeCompare(baseName(b), undefined, { numeric: true, sensitivity: "base" });
    });

    // Keep ONLY the last up-to-7 images (highest numbers), then reverse to DESC (12,11,10,...)
    const takeCount = Math.min(7, sortedAsc.length);
    const imagesDesc = sortedAsc.slice(-takeCount).reverse();

    // Start with the first of the DESC array (e.g., 12 if you have 1..12)
    let currentIndex = 0;
    const imgEl = document.getElementById("carousel-image");

    const updateImage = () => {
      const src = imagesDesc[currentIndex];
      imgEl.src = src;
      imgEl.alt = baseName(src);
    };

    // Manual navigation: Right = next in descending list (12 â†’ 11), Left = previous (11 â†’ 12)
    document.querySelector(".arrow.right").addEventListener("click", () => {
      currentIndex = (currentIndex + 1) % imagesDesc.length;
      updateImage();
      resetTimer();
    });

    document.querySelector(".arrow.left").addEventListener("click", () => {
      currentIndex = (currentIndex - 1 + imagesDesc.length) % imagesDesc.length;
      updateImage();
      resetTimer();
    });

    // Auto-advance every 30 seconds
    let timer = setInterval(() => {
      currentIndex = (currentIndex + 1) % imagesDesc.length;
      updateImage();
    }, 30000);

    const resetTimer = () => {
      clearInterval(timer);
      timer = setInterval(() => {
        currentIndex = (currentIndex + 1) % imagesDesc.length;
        updateImage();
      }, 30000);
    };

    // Initialize
    updateImage();
  </script>
</body>
</html>
