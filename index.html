<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Hydrogen Sustainability Landing Page</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>

  <!-- Header -->
  <header class="header">
    <h1>Latest News</h1>
  </header>

  <!-- Image Carousel Section -->
  <section class="carousel">
    <button class="arrow left">&#8249;</button>
    <div class="image-container">
      <img id="carousel-image" src="" alt="Hydrogen Image">
    </div>
    <button class="arrow right">&#8250;</button>
  </section>

  <script>
    // ðŸ‘‰ Add all your image paths here (for example, 1 to 15)
    const allImages = [
      "1.png",
      "2.png",
      "3.png",
      "4.png",
      "5.png",
      "6.png",
      "7.png",
      "8.png",
      "9.png",
      "10.png",
      "11.png",
      "12.png",
    ];

  // Helper: get base name (for sorting and alt text)
    const baseName = (p) => p.split("/").pop();

    // Natural sort by filename (so "10.jpg" comes after "2.jpg")
    const naturallySorted = [...allImages].sort((a, b) => {
      const an = baseName(a);
      const bn = baseName(b);
      // Natural (numeric) compare where supported
      if (an.localeCompare) {
        const cmp = an.localeCompare(bn, undefined, { numeric: true, sensitivity: "base" });
        if (cmp !== 0) return cmp;
      }
      // Fallback: compare last numeric chunk if present
      const anum = (an.match(/\d+/g) || []).map(Number).pop() ?? -Infinity;
      const bnum = (bn.match(/\d+/g) || []).map(Number).pop() ?? -Infinity;
      if (anum !== bnum) return anum - bnum;
      return an.localeCompare(bn);
    });

    // Keep ONLY the last 7 (i.e., the highest by name/number)
    const imageUrls = naturallySorted.slice(-7);

    // Start with the LAST image first (descending order)
    let currentIndex = imageUrls.length - 1;
    const imgEl = document.getElementById("carousel-image");

    const updateImage = () => {
      const src = imageUrls[currentIndex];
      imgEl.src = src;
      imgEl.alt = baseName(src);
    };

    // Manual navigation:
    // Right arrow shows previous in descending sequence (e.g., 15 -> 14)
    document.querySelector(".arrow.right").addEventListener("click", () => {
      currentIndex = (currentIndex - 1 + imageUrls.length) % imageUrls.length;
      updateImage();
      resetTimer();
    });

    // Left arrow shows next in descending sequence (e.g., 14 -> 15)
    document.querySelector(".arrow.left").addEventListener("click", () => {
      currentIndex = (currentIndex + 1) % imageUrls.length;
      updateImage();
      resetTimer();
    });

    // Auto-advance every 30 seconds (descending order)
    let timer = setInterval(() => {
      currentIndex = (currentIndex - 1 + imageUrls.length) % imageUrls.length;
      updateImage();
    }, 30000);

    const resetTimer = () => {
      clearInterval(timer);
      timer = setInterval(() => {
        currentIndex = (currentIndex - 1 + imageUrls.length) % imageUrls.length;
        updateImage();
      }, 30000);
    };

    // Initialize
    updateImage();
  </script>
</body>
</html>
